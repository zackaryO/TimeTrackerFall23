<div [ngSwitch]="true">
  <div *ngSwitchCase="student" id="dashboard">
    <h2 class="dashboard-head">Dashboard</h2>
    <!-- <a href="/user-reports" class="btn btn-purple btn-elevated">Reports</a> -->
    <div>
      <h3 class="box-head">Courses</h3>
      <!-- This class will make the below button come next to it so they are on one line -->
      <a href="/eval" class="btn btn-warning btn-courses">Evaluation Due</a>
    </div>
    <hr />
    <div class="alert alert-danger" *ngIf="courses?.length <= 0">
      You have not registered for any courses.
    </div>
    <h3 *ngIf="PendUserCourses.length > 0">Pending Courses</h3>
    <table class="table table-hover" *ngIf="PendUserCourses.length > 0">
      <thead>
        <tr>
          <th class="table-head">Course Name</th>
          <th class="table-head">Instructor</th>
          <th class="table-head">Description</th>
          <th class="table-head"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let c of PendUserCourses">
          <td>{{ c.courseName }}</td>
          <td>{{ c.instructorFN }} {{ c.instructorLN }}</td>
          <td>{{ c.description }}</td>
          <td>
            <div class="btn-group float-right">
              <button class="btn btn-purple" (click)="GoToCourse(c.courseID)">
                View
              </button>
              <button class="btn btn-danger" (click)="cancel(c.courseID)">
                Cancel
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="row">
      <div class="col-sm-3 mb-3" *ngFor="let c of courses">
        <div class="card">
          <h5 class="card-header">{{ c.courseName }}</h5>
          <div class="card-body">
            <p class="card-text">{{ c.description }}</p>
            <button class="btn btn-purple btn-sm" (click)="GoToCourse(c.courseID)">
              View Course
            </button>
          </div>
        </div>
      </div>
    </div>

    <h3 class="box-head">My Active Projects</h3>
    <hr />
    <div class="alert alert-danger" *ngIf="projects?.length <= 0">
      You are not assigned any projects.
    </div>
    <div class="row">
      <div class="col-sm-3 mb-3" *ngFor="let p of projects">
        <div class="card">
          <h5 class="card-header">{{ p.projectName }}</h5>
          <div class="card-body">
            <h5 class="card-title">{{ p.courseName }}</h5>
            <p class="card-text">{{ p.description }}</p>
            <button class="btn btn-purple" (click)="GoToProject(p.projectID)">
              View Project
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngSwitchCase="instructor" id="dashboard">
    <h2 class="dashboard-head">Dashboard</h2>
    <div>
      <h3 class="box-head">Courses</h3>
      <!-- This class will make the below button come next to it so they are on one line -->
      <a href="/create-course" class="btn btn-success btn-courses">Create New Course</a>
      <a href="/past-courses" class="btn btn-purple btn-courses">View Past Courses</a>
      <a href="/manage-evals" class="btn btn-purple btn-courses">Manage Evaluations</a>
    </div>
    <hr />
    <div class="alert alert-danger" *ngIf="courses?.length <= 0">
      You have not created any courses.
    </div>
    <div class="row">
      <div class="col-sm-3 mb-3" *ngFor="let c of courses">
        <div class="card">
          <h5 class="card-header">{{ c.courseName }}</h5>
          <div class="card-body">
            <p class="card-text">{{ c.description }}</p>
            <button class="btn btn-purple btn-sm" (click)="GoToCourse(c.courseID)">
              View Course
            </button>
          </div>
        </div>
      </div>
    </div>
    <!--  -->
    <h3 *ngIf="courses.length > 0" class="box-head">
      Pending Requests to Courses
    </h3>
    <hr />
    <div class="alert alert-danger" *ngIf="PendInstrCourses?.length <= 0">
      No Pending Requests
    </div>
    <div *ngIf="PendInstrCourses.length > 0">
      <table class="table table-hover">
        <thead>
          <tr>
            <th class="table-head">Course Name</th>
            <th class="table-head">Student</th>
            <th class="table-head">Description</th>
            <th class="table-head"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let c of PendInstrCourses | paginate: { itemsPerPage: 10, currentPage: p }">
            <td>{{ c.courseName }}</td>
            <td>{{ c.studentFirstName }} {{ c.studentLastName }}</td>
            <td><i>{{ c.description }}</i></td>
            <td>
              <div class="btn-group float-right">
                <button class="btn btn-purple" (click)="register(c.courseID, c.studentID)">
                  Approve
                </button>
                <button class="btn btn-danger" (click)="cancelIns(c.courseID, c.studentID)">
                  Deny
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
      <pagination-controls (pageChange)="p = $event"></pagination-controls>
    </div>
    <!--  -->
  </div>

  <div *ngSwitchCase="admin" id="dashboard">
    <h2 class="dashboard-head">Dashboard</h2>
    <div>
      <h3 class="box-head">Recent Users</h3>
      <a href="/users" class="btn btn-purple btn-courses">Manage Users</a>
    </div>
    <hr>
    <div class="alert alert-danger" *ngIf="recentUsers?.length <= 0">
      No users have been created.
    </div>
    <div class="row">
      <div class="col-sm-3 mb-3" *ngFor="let u of recentUsers">
        <div class="card">
          <h5 class="card-header">{{ u.firstName }} {{ u.lastName }}</h5>
          <div class="card-body">
            <p class="card-text"><button class="btn btn-purple btn-sm" (click)="ViewProfile(u.userID)">View
                Profile</button></p>
          </div>
        </div>
      </div>
    </div>

    <h3 class="box-head">Recent Courses</h3>
    <hr>
    <div class="alert alert-danger" *ngIf="recentCourses?.length <= 0">
      No courses have been created.
    </div>
    <div class="row">
      <div class="col-sm-3 mb-3" *ngFor="let c of recentCourses">
        <div class="card">
          <h5 class="card-header">{{ c.courseName }}</h5>
          <div class="card-body">
            <p class="card-text">{{c.firstName}} {{ c.lastName }} <br> {{ c.description }}</p>
            <button class="btn btn-purple btn-sm" (click)="GoToCourse(c.courseID)">
              View Course
            </button>
          </div>
        </div>
      </div>
    </div>

    <h3 class="box-head">Recent Projects</h3>
    <hr>
    <div class="alert alert-danger" *ngIf="recentProjects?.length <= 0">
      No projects have been created.
    </div>
    <div class="row">
      <div class="col-sm-3 mb-3" *ngFor="let p of recentProjects">
        <div class="card">
          <h5 class="card-header">{{ p.projectName }}</h5>
          <div class="card-body">
            <p class="card-text">{{ p.firstName}} {{ p.lastName }} <br> {{ p.description }}</p>
            <button class="btn btn-purple btn-sm" (click)="GoToProject(p.projectID)">
              View Project
            </button>
            <button class="btn btn-purple btn-sm btn-spacing" (click)="GoToCourse(p.courseID)">
              View Course
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>